<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="é£å†°ï¼ˆICEï¼‰ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="é£å†°ï¼ˆICEï¼‰ Blog Atom Feed"><title data-react-helmet="true">æ’ä»¶å¼€å‘æŒ‡å— | é£å†°ï¼ˆICEï¼‰</title><meta data-react-helmet="true" property="og:url" content="https://beta.ice.work/docs/plugin/develop/start"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="æ’ä»¶å¼€å‘æŒ‡å— | é£å†°ï¼ˆICEï¼‰"><meta data-react-helmet="true" name="description" content="icejs åŸºäºå·¥ç¨‹æ„å»ºå·¥å…· build-scripts å°è£…ï¼Œå› æ­¤åœ¨æ’ä»¶èƒ½åŠ›ä¸Šä¹Ÿå®Œæ•´ç»§æ‰¿äº† build-scriptsã€‚é™¤äº†é€šè¿‡æ’ä»¶å®šåˆ¶å·¥ç¨‹èƒ½åŠ›ä»¥å¤–ï¼Œicejs è¿˜ä¸ºæ’ä»¶æ‰©å±•äº†è¿è¡Œæ—¶å®šåˆ¶çš„èƒ½åŠ›ï¼Œè¿™è®©æ’ä»¶æ‹¥æœ‰æ›´å¤šçš„æƒ³è±¡ç©ºé—´ã€‚æ’ä»¶æœºåˆ¶æ˜¯ icejs çš„æ ¸å¿ƒä¹‹ä¸€ï¼Œå½“å‰ icejs çš„åŸºç¡€èƒ½åŠ›éƒ½æ˜¯é€šè¿‡æ’ä»¶æ¥å®ç°ã€‚æ’ä»¶æœºåˆ¶ä¸ä½†å¯ä»¥ä¿è¯æ¡†æ¶æ ¸å¿ƒè¶³å¤Ÿç²¾ç®€å’Œç¨³å®šï¼Œè¿˜å¯ä»¥é€šè¿‡æ’ä»¶å¯¹è¿è¡Œæ—¶å’Œç¼–è¯‘æ—¶çš„èƒ½åŠ›è¿›è¡Œå°è£…å¤ç”¨ï¼Œæœ€ç»ˆæ‰“é€ ä¸€ä¸ªå®Œæ•´çš„ç”Ÿæ€ã€‚"><meta data-react-helmet="true" property="og:description" content="icejs åŸºäºå·¥ç¨‹æ„å»ºå·¥å…· build-scripts å°è£…ï¼Œå› æ­¤åœ¨æ’ä»¶èƒ½åŠ›ä¸Šä¹Ÿå®Œæ•´ç»§æ‰¿äº† build-scriptsã€‚é™¤äº†é€šè¿‡æ’ä»¶å®šåˆ¶å·¥ç¨‹èƒ½åŠ›ä»¥å¤–ï¼Œicejs è¿˜ä¸ºæ’ä»¶æ‰©å±•äº†è¿è¡Œæ—¶å®šåˆ¶çš„èƒ½åŠ›ï¼Œè¿™è®©æ’ä»¶æ‹¥æœ‰æ›´å¤šçš„æƒ³è±¡ç©ºé—´ã€‚æ’ä»¶æœºåˆ¶æ˜¯ icejs çš„æ ¸å¿ƒä¹‹ä¸€ï¼Œå½“å‰ icejs çš„åŸºç¡€èƒ½åŠ›éƒ½æ˜¯é€šè¿‡æ’ä»¶æ¥å®ç°ã€‚æ’ä»¶æœºåˆ¶ä¸ä½†å¯ä»¥ä¿è¯æ¡†æ¶æ ¸å¿ƒè¶³å¤Ÿç²¾ç®€å’Œç¨³å®šï¼Œè¿˜å¯ä»¥é€šè¿‡æ’ä»¶å¯¹è¿è¡Œæ—¶å’Œç¼–è¯‘æ—¶çš„èƒ½åŠ›è¿›è¡Œå°è£…å¤ç”¨ï¼Œæœ€ç»ˆæ‰“é€ ä¸€ä¸ªå®Œæ•´çš„ç”Ÿæ€ã€‚"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://beta.ice.work/docs/plugin/develop/start"><link data-react-helmet="true" rel="alternate" href="https://beta.ice.work/docs/plugin/develop/start" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://beta.ice.work/docs/plugin/develop/start" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f2879973.css">
<link rel="preload" href="/assets/js/runtime~main.90526904.js" as="script">
<link rel="preload" href="/assets/js/main.cb83f37f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="é£å†°ï¼ˆICEï¼‰" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="é£å†°ï¼ˆICEï¼‰" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">é£å†°</strong></a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"></div><a class="navbar__item navbar__link" href="/docs/guide/about">æŒ‡å—</a><a class="navbar__item navbar__link" href="/docs/config/about">é…ç½®</a><a class="navbar__item navbar__link" href="/docs/api/about">API</a><a class="navbar__item navbar__link" href="/docs/plugin/list/moment-locales">æ’ä»¶</a><a class="navbar__item navbar__link" href="/docs/fusion/about">ç»„ä»¶</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">æ›´å¤šèµ„æº</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/resource/front-basic">å‰ç«¯åŸºç¡€</a></li><li><a class="dropdown__link" href="/docs/resource/front-env">å‰ç«¯ç¯å¢ƒ</a></li></ul></div><a href="https://github.com/alibaba/ice" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="é£å†°ï¼ˆICEï¼‰" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="é£å†°ï¼ˆICEï¼‰" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">é£å†°</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guide/about">æŒ‡å—</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config/about">é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api/about">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/plugin/list/moment-locales">æ’ä»¶</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/fusion/about">ç»„ä»¶</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">æ›´å¤šèµ„æº</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/resource/front-basic">å‰ç«¯åŸºç¡€</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/resource/front-env">å‰ç«¯ç¯å¢ƒ</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/alibaba/ice" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">å®˜æ–¹æ’ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/moment-locales">moment-locales</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/fusion">fusion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/antd">antd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/webpack5">webpack5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/css-assets-local">css-assets-locale</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/smart-debug">smart-debug</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/keep-alive">keep-alive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/jsx-plus">jsx plus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/fast-refresh">fast-refresh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/esbuild">esbuild</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/modular-import">modular-import</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/dev-inspector">dev-inspector</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/list/load-assets">dynamic-load-assets</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">æ’ä»¶å¼€å‘</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/plugin/develop/start">æ’ä»¶å¼€å‘æŒ‡å—</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/develop/build">é€šè¿‡æ’ä»¶å®šåˆ¶å·¥ç¨‹èƒ½åŠ›</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin/develop/runtime">é€šè¿‡æ’ä»¶å®šåˆ¶è¿è¡Œæ—¶èƒ½åŠ›</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">æ’ä»¶å¼€å‘æŒ‡å—</h1></header><div class="markdown"><p>icejs åŸºäºå·¥ç¨‹æ„å»ºå·¥å…· build-scripts å°è£…ï¼Œå› æ­¤åœ¨æ’ä»¶èƒ½åŠ›ä¸Šä¹Ÿå®Œæ•´ç»§æ‰¿äº† build-scriptsã€‚é™¤äº†é€šè¿‡æ’ä»¶å®šåˆ¶å·¥ç¨‹èƒ½åŠ›ä»¥å¤–ï¼Œicejs è¿˜ä¸ºæ’ä»¶æ‰©å±•äº†è¿è¡Œæ—¶å®šåˆ¶çš„èƒ½åŠ›ï¼Œè¿™è®©æ’ä»¶æ‹¥æœ‰æ›´å¤šçš„æƒ³è±¡ç©ºé—´ã€‚æ’ä»¶æœºåˆ¶æ˜¯ icejs çš„æ ¸å¿ƒä¹‹ä¸€ï¼Œå½“å‰ icejs çš„åŸºç¡€èƒ½åŠ›éƒ½æ˜¯é€šè¿‡æ’ä»¶æ¥å®ç°ã€‚æ’ä»¶æœºåˆ¶ä¸ä½†å¯ä»¥ä¿è¯æ¡†æ¶æ ¸å¿ƒè¶³å¤Ÿç²¾ç®€å’Œç¨³å®šï¼Œè¿˜å¯ä»¥é€šè¿‡æ’ä»¶å¯¹è¿è¡Œæ—¶å’Œç¼–è¯‘æ—¶çš„èƒ½åŠ›è¿›è¡Œå°è£…å¤ç”¨ï¼Œæœ€ç»ˆæ‰“é€ ä¸€ä¸ªå®Œæ•´çš„ç”Ÿæ€ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹<a class="hash-link" href="#å¿«é€Ÿå¼€å§‹" title="Direct link to heading">#</a></h2><p>ä½¿ç”¨ CLI åˆå§‹åŒ–æ’ä»¶ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> init ice </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">your-plugin-name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># é€‰æ‹©æ’ä»¶ç±»å‹</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ’ä»¶ç›®å½•"></a>æ’ä»¶ç›®å½•<a class="hash-link" href="#æ’ä»¶ç›®å½•" title="Direct link to heading">#</a></h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ’ä»¶é€šè¿‡ npm åŒ…çš„å½¢å¼åˆ†å‘ï¼Œæ’ä»¶åˆå§‹åŒ–ç›®å½•å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly md"><div tabindex="0" class="prism-code language-md codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ src</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ index.[t,j]s # æ’ä»¶å·¥ç¨‹å…¥å£</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ runtime.[t,j]s # æ’ä»¶ç¼–è¯‘æ—¶å…¥å£</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ tests # æµ‹è¯•æ–‡ä»¶ç›®å½•</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package.json # npm åŒ…é…ç½®</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ tsconfig.json # typescript é…ç½®æ–‡ä»¶</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ README.md # è¯´æ˜æ–‡æ¡£</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>è¿™é‡Œä»¥ ts ä¸ºä¾‹ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥é€šè¿‡ js ç¼–å†™æ’ä»¶ã€‚ ts æœ€ç»ˆåº”ç¼–è¯‘ä¸º js ä»¥å‘å¸ƒ npm åŒ…ã€‚æ’ä»¶æ ¸å¿ƒæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼š</p><ol><li><code>index.ts</code>ï¼šé€šå¸¸ç”¨äºåšä¸€äº›å·¥ç¨‹ç›¸å…³çš„äº‹æƒ…ï¼Œæ¯”å¦‚æ›´æ”¹ webpack é…ç½®ã€æ„å»ºç»“æŸåæ‰§è¡Œä¸€äº›å…¶ä»–ä»»åŠ¡ç­‰ï¼Œéœ€ä¿è¯è¯¥æ–‡ä»¶ä½œä¸º npm åŒ…å…¥å£ã€‚</li><li><code>runtime.ts</code>ï¼šå®ç°ä¸€äº›è¿è¡Œæ—¶èƒ½åŠ›ï¼Œæ¯”å¦‚ config/request æ’ä»¶ã€‚æ³¨æ„: æ—§ç‰ˆæœ¬çš„ <code>module.ts</code> æš‚æ—¶å…¼å®¹ï¼Œä½†åœ¨æœªæ¥ä¸å—æ”¯æŒã€‚éœ€ä¿è¯è¯¥æ–‡ä»¶ä¸ <code>index.ts</code> ä½äºåŒä¸€ç›®å½•ä¸‹ã€‚</li></ol><p>ä¸‹é¢ä¹Ÿä¼šæŒ‰ç…§è¿™ä¸¤ä¸ªç»´åº¦æ¥åˆ†åˆ«ä»‹ç»ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å·¥ç¨‹èƒ½åŠ›å®šåˆ¶"></a>å·¥ç¨‹èƒ½åŠ›å®šåˆ¶<a class="hash-link" href="#å·¥ç¨‹èƒ½åŠ›å®šåˆ¶" title="Direct link to heading">#</a></h2><p>å·¥ç¨‹èƒ½åŠ›ä»¥ <code>index.ts</code> ä¸ºå…¥å£ï¼Œåœ¨æ‰§è¡Œ start/build æ—¶ icejs ä¼šåŠ è½½å¹¶æ‰§è¡Œæ¯ä¸ªæ’ä»¶çš„ <code>index.js</code>ã€‚</p><p>å…³äº <code>index.ts</code> åº”è¯¥å¦‚ä½•ä¹¦å†™è¯·å‚è€ƒä¸‹ä¸€ä¸ªç« èŠ‚çš„æ–‡æ¡£ <a href="/docs/plugin/develop/build">é€šè¿‡æ’ä»¶å®šåˆ¶å·¥ç¨‹èƒ½åŠ›</a>ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è¿è¡Œæ—¶èƒ½åŠ›å®šåˆ¶"></a>è¿è¡Œæ—¶èƒ½åŠ›å®šåˆ¶<a class="hash-link" href="#è¿è¡Œæ—¶èƒ½åŠ›å®šåˆ¶" title="Direct link to heading">#</a></h2><p>è¿è¡Œæ—¶èƒ½åŠ›ä»¥ <code>runtime.ts</code> ä¸ºå…¥å£ï¼Œé€šè¿‡æµè§ˆå™¨æ‰“å¼€é¡µé¢æ—¶ä¼šæ‰§è¡Œ <code>src/app.ts</code> ä¸­çš„ <code>runApp()</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåŠ è½½å¹¶æ‰§è¡Œæ‰€æœ‰æ’ä»¶çš„ <code>runtime.ts</code>ã€‚</p><p>å…³äº <code>runtime.ts</code> åº”è¯¥å¦‚ä½•ä¹¦å†™è¯·å‚è€ƒä¸‹ä¸€ä¸ªç« èŠ‚çš„æ–‡æ¡£ <a href="/docs/plugin/develop/runtime">é€šè¿‡æ’ä»¶å®šåˆ¶è¿è¡Œæ—¶èƒ½åŠ›</a>ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•<a class="hash-link" href="#å•å…ƒæµ‹è¯•" title="Direct link to heading">#</a></h2><p>ä½¿ç”¨ <a href="https://github.com/facebook/jest" target="_blank" rel="noopener noreferrer">Jest</a> è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ’ä»¶å¼€å‘ç¤ºä¾‹"></a>æ’ä»¶å¼€å‘ç¤ºä¾‹<a class="hash-link" href="#æ’ä»¶å¼€å‘ç¤ºä¾‹" title="Direct link to heading">#</a></h2><p>ä»¥ <a href="https://github.com/alibaba/ice/tree/master/packages/plugin-logger" target="_blank" rel="noopener noreferrer"><code>plugin-logger</code></a> ä¸ºä¾‹ã€‚è¯¥æ’ä»¶é‡‡ç”¨ typescript ç¼–å†™ï¼Œå¯¹å·¥ç¨‹èƒ½åŠ›åŠè¿è¡Œæ—¶èƒ½åŠ›å‡è¿›è¡Œäº†ä¿®æ”¹ã€‚ä¸ºæ¡†æ¶æä¾›äº†æ—¥å¿—åŠŸèƒ½ã€‚</p><p>ç›®å½•ç»“æ„ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ README.md</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ template</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ index.ts     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// logger åŠŸèƒ½å®ç°</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ src</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ index.ts      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å·¥ç¨‹èƒ½åŠ›å®ç°</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ runtime.ts    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// è¿è¡Œæ—¶èƒ½åŠ›å®ç°</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ types</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â””â”€â”€ index.ts  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ç±»å‹å£°æ˜æ–‡ä»¶</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ tsconfig.json</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç±»å‹å’Œæ‰©å±•"></a>ç±»å‹å’Œæ‰©å±•<a class="hash-link" href="#ç±»å‹å’Œæ‰©å±•" title="Direct link to heading">#</a></h3><ul><li><p>ç±»å‹å£°æ˜ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/types/index</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ILogger</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  level</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>æ‰©å±• appConfig ç±»å‹</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/index.ts</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> path</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> fse</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fs-extra&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">IPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@alib/build-scripts&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> plugin</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">IPlugin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> getValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> applyMethod </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> exportName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;logger&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> distPath </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">getValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TEMP_PATH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> exportName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> fse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">copy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./types&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">distPath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;types&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å¤åˆ¶ç±»å‹å£°æ˜æ–‡ä»¶</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// æŒ‚è½½è‡³ appConfigã€‚ appConfig å¯¹åº”ç±»å‹ä¸º IAppConfig</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// source ä¸ºå¤åˆ¶åçš„ç›®å½•, specifier ä¸ºç±»å‹æ ‡è¯†ç¬¦ï¼ŒexportName ä¸º appConfig ç±»å‹å</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å¾—åˆ°ä»¥ä¸‹ç»“æœ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// import { ILogger } from &#x27;./logger/types&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// export interface IAppConfig {</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   logger?: ILogger;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">applyMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;addIceAppConfigTypes&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    source</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">./</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">exportName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/types</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    specifier</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{ ILogger }&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exportName</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">exportName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">?: ILogger</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å·¥ç¨‹åŒ–èƒ½åŠ›å®ç°"></a>å·¥ç¨‹åŒ–èƒ½åŠ›å®ç°<a class="hash-link" href="#å·¥ç¨‹åŒ–èƒ½åŠ›å®ç°" title="Direct link to heading">#</a></h3><ul><li><p>logger åŠŸèƒ½å®ç°</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/logger/index.ts</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> logger</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;loglevel&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">default</span><span class="token plain"> logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>å¯¼å‡ºè‡³ ice</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/index.ts</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> path</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> fse</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fs-extra&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">IPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@alib/build-scripts&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> plugin</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">IPlugin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> getValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> applyMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> onGetWebpackConfig </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> exportName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;logger&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> distPath </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">getValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TEMP_PATH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> exportName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> fse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">copy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">../</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">exportName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> distPath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å¯¼å‡º logger åŠŸèƒ½</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ç”¨æˆ·å¯é€šè¿‡ import { logger } from &#x27;ice&#x27;; ä½¿ç”¨</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">applyMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;addIceExport&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> source</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">./</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">exportName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> exportName </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">onGetWebpackConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ä¸º logger æ·»åŠ  webpack aliasï¼Œä¾›è¿è¡Œæ—¶èƒ½åŠ›è°ƒç”¨</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">alias</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$ice/logger&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> distPath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è¿è¡Œæ—¶èƒ½åŠ›å®ç°"></a>è¿è¡Œæ—¶èƒ½åŠ›å®ç°<a class="hash-link" href="#è¿è¡Œæ—¶èƒ½åŠ›å®ç°" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports">logger</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$ice/logger&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// $ice/logger é€šè¿‡å·¥ç¨‹åŒ–èƒ½åŠ›è®¾ç½® alias</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">module</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> appConfig </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// è®¾ç½®è¿è¡Œæ—¶ logger ç­‰çº§</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">appConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">logger</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> appConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">level</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setLevel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">appConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">level</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¤ºä¾‹æ’ä»¶"></a>ç¤ºä¾‹æ’ä»¶<a class="hash-link" href="#ç¤ºä¾‹æ’ä»¶" title="Direct link to heading">#</a></h2><p>å®˜æ–¹æ’ä»¶ä»£ç ï¼š<a href="https://github.com/alibaba/ice/tree/master/packages" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/ice/tree/master/packages</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ice-lab/site/edit/master/website/docs/plugin/develop/start.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/plugin/list/load-assets"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« dynamic-load-assets</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/plugin/develop/build"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">é€šè¿‡æ’ä»¶å®šåˆ¶å·¥ç¨‹èƒ½åŠ› Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å¿«é€Ÿå¼€å§‹" class="table-of-contents__link">å¿«é€Ÿå¼€å§‹</a></li><li><a href="#æ’ä»¶ç›®å½•" class="table-of-contents__link">æ’ä»¶ç›®å½•</a></li><li><a href="#å·¥ç¨‹èƒ½åŠ›å®šåˆ¶" class="table-of-contents__link">å·¥ç¨‹èƒ½åŠ›å®šåˆ¶</a></li><li><a href="#è¿è¡Œæ—¶èƒ½åŠ›å®šåˆ¶" class="table-of-contents__link">è¿è¡Œæ—¶èƒ½åŠ›å®šåˆ¶</a></li><li><a href="#å•å…ƒæµ‹è¯•" class="table-of-contents__link">å•å…ƒæµ‹è¯•</a></li><li><a href="#æ’ä»¶å¼€å‘ç¤ºä¾‹" class="table-of-contents__link">æ’ä»¶å¼€å‘ç¤ºä¾‹</a><ul><li><a href="#ç±»å‹å’Œæ‰©å±•" class="table-of-contents__link">ç±»å‹å’Œæ‰©å±•</a></li><li><a href="#å·¥ç¨‹åŒ–èƒ½åŠ›å®ç°" class="table-of-contents__link">å·¥ç¨‹åŒ–èƒ½åŠ›å®ç°</a></li><li><a href="#è¿è¡Œæ—¶èƒ½åŠ›å®ç°" class="table-of-contents__link">è¿è¡Œæ—¶èƒ½åŠ›å®ç°</a></li></ul></li><li><a href="#ç¤ºä¾‹æ’ä»¶" class="table-of-contents__link">ç¤ºä¾‹æ’ä»¶</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¤¾åŒº</h4><ul class="footer__items"><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">ç¤¾åŒºé’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group-inside.JPG" target="_blank" rel="noopener noreferrer" class="footer__link-item">é˜¿é‡Œå†…éƒ¨é’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://github.com/alibaba/ice/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issue</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">React ç”Ÿæ€</h4><ul class="footer__items"><li class="footer__item"><a href="http://micro-frontends.ice.work" target="_blank" rel="noopener noreferrer" class="footer__link-item">å¾®å‰ç«¯ icestark</a></li><li class="footer__item"><a href="https://ahooks.js.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">React Hooks</a></li><li class="footer__item"><a href="https://v2.formilyjs.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Formily</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"><a href="https://fed.taobao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">æ·˜ç³»å‰ç«¯</a></li><li class="footer__item"><a href="https://rax.js.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rax</a></li><li class="footer__item"><a href="https://appworks.ice.work" target="_blank" rel="noopener noreferrer" class="footer__link-item">AppWorks</a></li><li class="footer__item"><a href="https://openkraken.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kraken</a></li><li class="footer__item"><a href="https://midwayjs.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Midway</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 é£å†°ï¼ˆICEï¼‰. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.90526904.js"></script>
<script src="/assets/js/main.cb83f37f.js"></script>
</body>
</html>